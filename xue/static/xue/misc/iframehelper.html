<!DOCTYPE html>
<html>
<!--
This page is on the same domain as the parent, so can
communicate with it to order the iframe window resizing
to fit the content
-->
  <head>
    <meta charset="utf-8" />
  </head>

  <body onload="parentIframeResize()">
    <script>
      // Tell the parent iframe what height the iframe needs to be
      function parentIframeResize()
      {
        var
          height=getParam('height'),
          frame_id=getParam('fid');

        // This works as our parent's parent is on our domain..
        parent.parent.resizeIframe(height, frame_id);
      }

      // Helper function, parse param from request string
      function getParam(name)
      {
        name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
        var regexS = "[\\?&]"+name+"=([^&#]*)";
        var regex = new RegExp( regexS );
        var results = regex.exec( window.location.href );
        if( results == null )
          return "";
        else
          return results[1];
      }
    </script>
  </body>
  <!-- vim:set ai et ts=2 sw=2 sts=2 ff=unix fenc=utf-8: -->
</html>
